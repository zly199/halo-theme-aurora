<style>
    .article-content p {
        display: -webkit-box !important;
        -webkit-line-clamp: 2 !important; /* 限制为 2 行 */
        -webkit-box-orient: vertical !important;
        overflow: hidden !important; /* 隐藏溢出内容 */
        text-overflow: ellipsis !important; /* 显示省略号 */
        max-width: 100% !important; /* 确保不会超出容器 */
        width: 100% !important; /* 确保占满容器宽度 */
        white-space: normal !important; /* 确保文本正确换行 */
    }

    .article-content {
        width: 100%; /* Ensure the parent container has a defined width */
    }
</style>

<th:block th:fragment="post-card(feature,post)">
    <li class="article-container" th:with="default_img=${#strings.contains(theme.config.article.default_img,'http') ? ((#strings.contains(theme.config.article.default_img,'?') ? theme.config.article.default_img : theme.config.article.default_img+'?')+','+post.spec.title): theme.config.article.default_img}">
        <span th:if="${feature}" class="article-tag">
              <b>
                <svg class="svg-icon">
                <use href="#icon-hot" fill="currentColor"
                     stroke="var(--background-primary)">
                </use></svg> 推荐</b>
        </span>
        <div class="article">
            <div class="article-thumbnail">
                <img alt="" lazy="loading"
                     th:src="${#strings.isEmpty(post.spec.cover) ? default_img : post.spec.cover} ">
                <span class="thumbnail-screen"
                      style="background: linear-gradient(130deg, rgb(36, 198, 220), rgb(84, 51, 255) 41.07%, rgb(255, 0, 153) 76.05%);"></span>
            </div>
            <div class="article-content">
            <span style="text-wrap: nowrap; overflow: hidden;">
                <th:block th:if="${not #lists.isEmpty(post.categories)}"
                          th:each="category,stat : ${post.categories}">
                    <a th:if="${stat.index}<=2" th:href="@{${category.status.permalink}}">
                      <b>[[${category.spec.displayName}]]</b>
                    </a>
                </th:block>
                <ul style="max-width: 100px">
                    <li th:if="${not #lists.isEmpty(post.tags)}"
                        th:each="tag,stat : ${post.tags}">
                        <a th:if="${stat.index}<=3" th:href="@{${tag.status.permalink}}">
                            <em># [[${tag.spec.displayName}]]</em>
                        </a>
                    </li>
                </ul>
            </span>
                <a th:href="@{${post.status.permalink}}" class="">
                    <h1 data-dia="article-link"
                        th:text="${post.spec.title}"
                        style="max-height: 3em; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;"></h1>
                </a>
                <p th:text="${post.status.excerpt}" class="article-content"></p>
                <div class="article-footer" th:with="owner=${post.owner}">
                    <div class="flex flex-row items-center">
                        <img class="hover:opacity-50 cursor-pointer"
                             th:src="${owner.avatar==null? ASSETS+'/img/ObsidianestLogo.png': owner.avatar}"
                             alt="author avatar">
                        <span class="text-ob-dim">
        <strong class="text-ob-normal pr-1.5 hover:text-ob hover:opacity-50 cursor-pointer"
                th:text="${owner.displayName}"></strong>发布于 [[${#dates.format(post.spec.publishTime, 'MMMM dd,yyyy')}]]</span>
                    </div>
                </div>
            </div>
        </div>
    </li>
</th:block>