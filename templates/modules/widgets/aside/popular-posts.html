<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<div class="sidebar-box" th:fragment="popular-posts">
    <p class="relative flex items-center pb-2 mb-4 text-xl text-ob-bright uppercase">
        <i class="roozenfont roozen-chart-line"></i> &nbsp;
        <span class="w-full block">热门</span>
        <span class="absolute bottom-0 h-1 w-14 rounded-full" style="background: linear-gradient(130deg, rgb(36, 198, 220), rgb(84, 51, 255) 41.07%, rgb(255, 0, 153) 76.05%);"></span>
    </p>
    <div class="pt-2">
        <ul
                role="list"
                class="divide-y divide-gray-300 dark:divide-slate-700"
                th:with="posts = ${postFinder.list({page: 1,size: 10,sort: {'stats.visit,desc'}})}"
        >
            <li class="flex py-3 items-start text-sm justify-between" th:each="post : ${posts}" style="padding: 12px 8px; border-bottom: 1px solid #e5e7eb; align-items: flex-start;">
                <div class="flex-1">
                    <a
                            class="block font-semibold text-gray-800 dark:text-slate-100 hover:underline hover:text-blue-600 dark:hover:text-blue-400"
                            th:text="${post.spec.title}"
                            th:href="@{${post.status.permalink}}"
                            style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; white-space: normal; word-break: break-word;"
                    ></a>
                    <p class="mt-1 text-xs text-gray-500 dark:text-slate-400" th:text="${#dates.format(post.spec.publishTime,'yyyy-MM-dd')}"></p>
                </div>
                <div class="ml-auto text-gray-600 dark:text-slate-500 flex items-center" style="min-width: 50px; justify-content: flex-end;">
                    <i class="roozenfont roozen-eye-outline"> </i> &nbsp;
                    <span th:text="${post.stats.visit ?: 0}" class="tabular-nums"></span>
                </div>
            </li>
        </ul>
    </div>
</div>
